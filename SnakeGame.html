<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>贪吃蛇</title>
    <meta name="viewport" content="width=device-width,initial-scale=0.7,user-scalable=no"> 
    <meta name="full-screen" content="yes">
    <meta name="x5-fullscreen" content="true">
    <style type="text/css">
        *{
            padding:0;
            margin:0;
            font-family: MicroSoft YaHei,Arial;
        }
        .container{
            margin:0 auto;
            width:450px;
        }
        .con{
            width:450px;
            height:450px;
            border-left:1px solid #ccc;
            border-top:1px solid #ccc;
            box-shadow: 0 0 5px #aaa;
        }
        .select div{
            text-align: center;
            float:left;
        }
        .options{
            width:60%;
        }
        .grade{
            width:40%;
        }
        button,a{
            text-decoration: none;
            padding:5px;
            background:rgb(5,156,212);
            color:#fff;
            border:none;
            border-radius:5px;
            cursor:pointer;
            font-size:16px;
        }
        button.curr{
            background:#f50;
        }
        button.disable{
            background:#999;
            cursor:initial;
        }
        #head div{
            width:33%;
            margin:10px auto;
            float:left;
            font-size:14px;
            line-height: 26px;
        }
        #head .title{
            text-align: center;
            font-size:20px;
        }
        .record{
            text-align:right;
        }
        #help{
            border-radius:50%;
            display: inline-block;
            width:16px;
            height:16px;
            line-height: 16px;
            text-align: center;
            font-size:12px;
            color:#fff;
            background:rgb(5,156,212);
            cursor:pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="head"><div class="score">分数：<span id="score">0</span></div><div class="title">贪吃蛇(<span id="titleGrade">初级</span>) <span id="help">?</span></div><div class="record">记录：<span id="record">0</span></div></div>
        <canvas class="con" id="con" width="450px" height="450px"></canvas>
        <div class="select">
            <div class="options">
                <button id="reset">重置</button>
                <button id="pause">暂停</button>
                <button id="save">存档</button>
                <button id="load">载入</button>
                <a href="" download=""  id="screenshot">截图</a>
            </div>
            <div class="grade">
                <button data-grade=0 class="curr">初级</button>
                <button data-grade=1>中级</button>
                <button data-grade=2>高级</button>
            </div>
        </div>
    </div>
</body>
<!-- <script src="snake.js"></script> -->
<script type="text/javascript">
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(B(){s a,G=[[[10,10,20,20],[30,30,M,M],[10,30,20,M],[30,10,M,20]],[[5,5,15,6],[5,5,6,15],[5,35,6,1w],[5,Z,15,1w],[35,5,Z,6],[Z,5,1w,15],[Z,35,1w,Z],[35,Z,1w,1w],[10,10,15,15],[35,10,M,15],[10,35,15,M],[35,35,M,M]],[[5,5,6,10],[14,5,15,10],[20,5,21,10],[30,5,31,10],[M,5,1Q,10],[Z,5,1w,10],[6,23,7,28],[15,23,16,28],[21,23,22,28],[31,23,32,28],[1Q,23,26,28],[1w,23,3L,28],[5,M,6,Z],[14,M,15,Z],[20,M,21,Z],[30,M,31,Z],[M,M,1Q,Z],[Z,M,1w,Z]]],r=2m,Q=3K,1l=1,2s=3H,1d=2s,2X=12,J,E=0,1h=0;s l,1I,1H,1v,P,A,1y,1E,1s=C,1k=C,1a=0,1j=0,18=0,1b=0,1B=0;s n=O.1m(\'3E\'),2a=O.1m(\'P\'),2e=O.1m(\'1V\'),2t=O.1m("2t"),1P=O.1m("1P"),1N=O.1m("1N"),1u=O.1m("1u"),2u=O.1m("2u"),29=O.1m("29"),2V=O.1m("3z");q(3u O.3p!="3o"){s o="2Q"}u{s o="3l"}s p=n.3k(\'2d\');q(!p){2c("你的浏览器不支持该游戏，请使用3P以上浏览器打开");1F}p.I="#3g";p.3f="#3e";p.1X=0;p.3c="36";p.3b="3a";1U(7,0);2M();B 2M(){s g=0;O.34=B(e){e.2L();q(1s){q(1k){1u.1e()}u q(e.1i==13||e.1i==32){1u.1e()};q(g!=17){q((e.1i==37||e.1i==3D)&&l!=4&&a[0].v!=4){l=3}u q((e.1i==38||e.1i==3w)&&l!=2&&a[0].v!=2){l=1}u q((e.1i==39||e.1i==3m)&&l!=3&&a[0].v!=3){l=4}u q((e.1i==M||e.1i==2D)&&l!=1&&a[0].v!=1){l=2}};q(e.1i==17){g=17;O.2l("2C",B(e){q(e.1i==2D){1P.1e()};g=0;O.2N("2C",2q.2p)})}}};O.3I=B(a){a.2L()};n.2l("2Q",B(d){q(1s){s f=d.2B[0].2E,2G=d.2B[0].2H;n.2l("2K",B(e){s b=e.2U[0].2E,2W=e.2U[0].2H;s c=b-f,2i=2W-2G;q(z.2k(c)>20||z.2k(2i)>20){q(1k){1u.1e()}q(z.2k(c)>z.2k(2i)){q(c<0&&l!=4&&a[0].v!=4){l=3}u q(l!=3&&a[0].v!=3){l=4}}u{q(2i<0&&l!=2&&a[0].v!=2){l=1}u q(l!=1&&a[0].v!=1){l=2}}};n.2N("2K",2q.2p)})}});2V.1e=B(){1u.1e();2c("3F+S：存档\\n空格/回车：暂停\\n任意键：继续")};2t.1e=B(){R(J);1U((7+E*10),E,E*20)};1P.1e=B(){q(1s){q(1j!=0)18=(18==0?2r:18)-(1n 1t().1r()-1j);q(1a!=0)1b=(1b==0?2o:1b)-(1n 1t().1r()-1a);s b=[1I,1H,1v,P,A,1s,1d,1k,a,18,1b,1B,l];1c["E"+E]=2Z.3J(b);1N.1C=""}};1N.1e=B(){q(1c["E"+E]&&1c["E"+E]!=""){1R(1E);R(1y);R(J);s b=2Z.3C(1c["E"+E]);1I=b[0];1H=b[1];1v=b[2];P=b[3];A=b[4];1s=b[5];1d=b[6];1k=b[7];a=b[8];18=b[9];1b=b[10];1B=b[11];l=b[12];1U((7+E*10),E,E*20,T);1u.1e()}};1u.1e=B(){q(1s){q(1k){1k=C;1G.1p="暂停";R(J);J=1x(B(){1q(a,E)},1d);2A(a,E)}u{1R(1E);R(1y);q(1j!=0)18=(18==0?2r:18)-(1n 1t().1r()-1j);q(1a!=0)1b=(1b==0?2o:1b)-(1n 1t().1r()-1a);R(J);1G.1p="继续";1k=T;1Y(a,E);p.I="2n(1M,1M,1M,0.5)";p.1Z(0,0,Q,Q);p.1X=10;p.I="2n(1L,1L,1L,1)";p.2z="2F 2y 2x";p.2g("暂停(任意键继续)",Q/2,Q/2,Q);p.1X=0}}};2u.2l(o,B(){q(!1k){1u.1e()}O.1m("1u").1p="继续";1k=T;1Y(a,E);p.I="2n(1M,1M,1M,0.5)";p.1Z(0,0,Q,Q);p.1X=10;p.I="2n(1L,1L,1L,1)";p.2z="2F 2y 2x";p.2g(29.2I+"分数："+P,Q/2,Q/2,Q);p.1X=0;1G.3h=n.3i();1G.3j=O.2J(\'3n\')[0].2I});s h=O.2J("E")[0].3y("3A");H(s i Y h){h[i].1e=B(){H(s j Y h){h[j].1C=""};1G.1C="3M";R(J);E=1G.3O("33-E");1U((7+E*10),E,E*20);29.1p=1G.1p}}};B 2A(a,w){q(18>0){1j=1n 1t().1r();1E=1D(B(){H(s i Y A){q(A[i][4]>0){A.1W(i,1);i--}};1j=0;18=0},18)}q(1b>0){1a=1n 1t().1r();R(J);q(1B==1){J=1x(B(){1q(a,w)},1d/2)};q(1B==2){J=1x(B(){1q(a,w)},1d*2)};1y=1D(B(){R(J);J=1x(B(){1q(a,w)},1d);1a=0;1b=0},1b)}};B 1U(g,w,b,c){q(!c){1I=1;1H=T;1v=0;P=0;A=[];1s=T;1d=2s-(b||0);1k=C,1a=0,1j=0,18=0,1b=0,1B=0;1R(1E);R(1y);s d=1J(w);s x=1f(d/r);s y=d%r;a=1n 3d(g+1);a[0]={x:x,y:y,K:"2w",v:l};q(l==1){H(s i=0;i<g+1;i++){q(x==r-1)x=0;u x++;q(i==g-1){a[i+1]={x:x,y:y,K:"1T",v:l}}u q(i==g){a[i+1]={x:x,y:y,K:"1K",v:l}}u{a[i+1]={x:x,y:y,K:"1O",v:l}}}}u q(l==2){H(s i=0;i<g+1;i++){q(x==0)x=r-1;u x--;q(i==g-1){a[i+1]={x:x,y:y,K:"1T",v:l}}u q(i==g){a[i+1]={x:x,y:y,K:"1K",v:l}}u{a[i+1]={x:x,y:y,K:"1O",v:l}}}}u q(l==3){H(s i=0;i<g+1;i++){q(y==r-1)y=0;u y++;q(i==g-1){a[i+1]={x:x,y:y,K:"1T",v:l}}u q(i==g){a[i+1]={x:x,y:y,K:"1K",v:l}}u{a[i+1]={x:x,y:y,K:"1O",v:l}}}}u q(l==4){H(s i=0;i<g+1;i++){q(y==0)y=r-1;u y--;q(i==g-1){a[i+1]={x:x,y:y,K:"1T",v:l}}u q(i==g){a[i+1]={x:x,y:y,K:"1K",v:l}}u{a[i+1]={x:x,y:y,K:"1O",v:l}}}}2b(w,0,0,[])}u{1j=0,1a=0}1P.1C="";1N.1C="";q(!(1s&&1c["E"+E]&&1c["E"+E]!="")){1N.1C="2O"};q(1c&&1c["1V"+w]){1h=1f(1c["1V"+w])}u{1h=0};2e.1p=1h;2a.1p=P;1Y(a,w);2P(a,w)};B 1J(w){s a=1f(z.1J()*r*r);l=1f(z.1J()*4)+1;s x=1f(a/r);s y=a%r;s b=T;H(s j Y G[w]){q(!(x<G[w][j][1]||x>G[w][j][3]-1||y<G[w][j][0]||y>G[w][j][2]-1)){b=C}u{q(1f(l/3)!=0&&!(x<G[w][j][1]||x>G[w][j][3]-1)){b=C}u q(1f(l/3)==0&&!(y<G[w][j][0]||y>G[w][j][2]-1)){b=C}}}q(b)1F a;u 1F 2q.2p(w)};B 2b(w,b,c,d){s e=1f(z.1J()*(r*r-c));s N=0;H(s i=0;i<(r*r-c);i++){s f=T,x=1f(i/r),y=i%r;H(s j Y d){q(d[j][0]==x&&d[j][0]==y){f=C}};q(f){q(N==e){x=1f(N/r),y=N%r;s g=T,1S=T,25=T,t=0;q(b>0){s t=1;q(c==(r*r)-2)1F;q(x==r-1||y==r-1)25=C}u{q(c==(r*r)-2){R(J);1D(B(){2c("你已经厉害炸了!")},0);1F};1H=C;H(s j Y A){q(!(x<A[j][1]-t||x>A[j][3]-1||y<A[j][0]-t||y>A[j][2]-1)){25=C}}};H(s j Y G[w]){q(!(x<G[w][j][1]-t||x>G[w][j][3]-1||y<G[w][j][0]-t||y>G[w][j][2]-1)){g=C}};H(s i Y a){q(a[i].x==x&&a[i].y==y||a[i].x-t==x&&a[i].y==y||a[i].x==x&&a[i].y-t==y||a[i].x-t==x&&a[i].y-t==y){1S=C}};q(g&&1S&&25){q(b>0){H(s i Y A){q(A[i][4]>0){A.1W(i,1);i--}};1R(1E);1j=1n 1t().1r();1E=1D(B(){H(s i Y A){q(A[i][4]>0){A.1W(i,1);i--}1j=0}},2r)};1F A.2R([x,y,(x+t+1),(y+t+1),b])}u{d.2R([x,y]);1F 2q.2p(w,b,c++,d)};U};N++}}};B 2P(a,w){J=1x(B(){1q(a,w)},1d)};B 1q(a,w){q(1H){q(1I%2X==0&&1I!=0){2b(w,1f(z.1J()*3+1),0,[])}2b(w,0,0,[])};s x=a[0].x;s y=a[0].y;a[0].K="1O";q(1v==0){a[a.2j-3].K="1T";a[a.2j-2].K="1K";a.3q()}u{1v--};q(l==1){q(x==0)x=r-1l;u x-=1l}u q(l==2){q(x==r-1l)x=0;u x+=1l}u q(l==3){q(y==0)y=r-1l;u y-=1l}u q(l==4){q(y==r-1l)y=0;u y+=1l};q(l!=a[0].v)a[0].v=l+""+a[0].v;s b=T,1S=T;H(s j Y G[w]){q(!(x<G[w][j][1]||x>G[w][j][3]-1||y<G[w][j][0]||y>G[w][j][2]-1)){b=C}};H(s i Y a){q(a[i].x==x&&a[i].y==y){1S=C}};H(s j=0;j<A.2j;j++){q(A[j][4]>0){q(!(x<A[j][0]||x>A[j][2]-1||y<A[j][1]||y>A[j][3]-1)){1a=1n 1t().1r();18=0;1j=0;q(A[j][4]==1){P+=3r;1v=1;R(J);J=1x(B(){1q(a,w)},1d/2);1B=1;1a=1n 1t().1r();1R(1y);1y=1D(B(){R(J);J=1x(B(){1q(a,w)},1d);1a=0},2o)}u q(A[j][4]==2){P+=2m;1v=2;R(J);J=1x(B(){1q(a,w)},1d*2);1B=2;1a=1n 1t().1r();1R(1y);1y=1D(B(){R(J);J=1x(B(){1q(a,w)},1d);1a=0},2o)}u q(A[j][4]==3){P+=3s;1v=2};A.1W(j,1);j--;2a.1p=P;q(P>1h){1h=P;2e.1p=1h;q(1c)1c["1V"+w]=1h}}}u{q(x==A[j][0]&&y==A[j][1]){1H=T;A.1W(j,1);1v=1;1I++;j--;P+=2m;2a.1p=P;q(P>1h){1h=P;2e.1p=1h;q(1c)1c["1V"+w]=1h}}}};a.3t({x:x,y:y,K:"2w",v:l});1Y(a,w);q(b&&1S){}u{R(J);1P.1C="2O";1s=C;1D(B(){2c("亲，你脑袋撞到了呦")},0)}};B 1Y(a,W){s w=Q/r;p.3v(0,0,Q,Q);p.I="#2S";p.1Z(0,0,Q,Q);H(s i Y G[W]){p.I="3x("+(2m+W*M)+",2T,2T)";s x=G[W][i][0],y=G[W][i][1],1g=G[W][i][2]-x,2v=G[W][i][3]-y;p.1Z(x*w,y*w,1g*w,2v*w)}H(s i Y A){p.I="#3B";s x=A[i][0],y=A[i][1],1g=A[i][2]-x,2v=A[i][3]-y;q(A[i][4]!=3){p.1o();p.L(y*w+1g*w/2,x*w+1g*w/2,1g/2*w,0,z.D*2,C);p.X();p.V();p.2z="3G 2y 2x";p.I="#2S"}u{s m=w/8;p.1o();p.1A(y*w+8*m,x*w+3*m);p.2Y(y*w+12*m,x*w+-1*m,y*w+20*m,x*w+3*m,y*w+8*m,x*w+13*m);p.2Y(y*w+-4*m,x*w+3*m,y*w+4*m,x*w+-1*m,y*w+8*m,x*w+3*m);p.V()};q(A[i][4]>0)2h(A[i][4]){19 1:p.2g("加",y*w+1g*w/2,x*w+1g*w/2,1g*w);U;19 2:p.2g("减",y*w+1g*w/2,x*w+1g*w/2,1g*w);U}};p.I="#1z";H(s i=0;i<r;i+=1l){H(s j=0;j<r;j+=1l){H(s k=1;k<a.2j;k++){q(i==a[k].x&&j==a[k].y){q(a[k].K=="1T"){p.I="#1z";q(a[k].v>10){p.1o();q(a[k].v==31||a[k].v==24){q(a[k].v==31)s x=-w/4,y=0;u s x=0,y=w/4;p.L(j*w+x,i*w+w+y,w,z.D*1.5,z.D*2,C);p.F(j*w,i*w+w)}u q(a[k].v==1Q||a[k].v==23){q(a[k].v==1Q)s x=w/4,y=0;u s x=0,y=w/4;p.L(j*w+w+x,i*w+w+y,w,z.D*1,z.D*1.5,C);p.F(j*w+w,i*w+w)}u q(a[k].v==32||a[k].v==14){q(a[k].v==32)s x=-w/4,y=0;u s x=0,y=-w/4;p.L(j*w+x,i*w+y,w,0,z.D*0.5,C);p.F(j*w,i*w)}u q(a[k].v==26||a[k].v==13){q(a[k].v==26)s x=w/4,y=0;u s x=0,y=-w/4;p.L(j*w+w+x,i*w+y,w,z.D*0.5,z.D*1,C);p.F(j*w+w,i*w)}p.X();p.V()}u{q(a[k].v>10)s t=1f(a[k].v/10);u s t=a[k].v;p.1o();2h(t){19 1:p.1A(j*w,i*w);p.F(j*w+w/4,i*w+w);p.F(j*w+w*3/4,i*w+w);p.F(j*w+w,i*w);U;19 2:p.1A(j*w,i*w+w);p.F(j*w+w/4,i*w);p.F(j*w+w*3/4,i*w);p.F(j*w+w,i*w+w);U;19 3:p.1A(j*w,i*w);p.F(j*w+w,i*w+w/4);p.F(j*w+w,i*w+w*3/4);p.F(j*w,i*w+w);U;19 4:p.1A(j*w+w,i*w);p.F(j*w,i*w+w/4);p.F(j*w,i*w+w*3/4);p.F(j*w+w,i*w+w);U;p.X()}p.V()}}u q(a[k].K=="1K"){p.I="#1z";p.1o();q(a[k].v>10)s t=1f(a[k].v/10);u s t=a[k].v;2h(t){19 1:p.1A(j*w+w/4,i*w);p.F(j*w+w/2,i*w+w);p.F(j*w+w*3/4,i*w);U;19 2:p.1A(j*w+w/4,i*w+w);p.F(j*w+w/2,i*w);p.F(j*w+w*3/4,i*w+w);U;19 3:p.1A(j*w,i*w+w/4);p.F(j*w+w,i*w+w/2);p.F(j*w,i*w+w*3/4);U;19 4:p.1A(j*w+w,i*w+w/4);p.F(j*w,i*w+w/2);p.F(j*w+w,i*w+w*3/4);U;p.X();p.V()};p.X();p.V()}u q(a[k].K=="1O"){q(k%2==1){p.I="#1z"}u{p.I="3N"};q(a[k].v>10){p.1o();q(a[k].v==31||a[k].v==24){p.L(j*w,i*w+w,w,z.D*1.5,z.D*2,C);p.F(j*w,i*w+w)}u q(a[k].v==1Q||a[k].v==23){p.L(j*w+w,i*w+w,w,z.D*1,z.D*1.5,C);p.F(j*w+w,i*w+w)}u q(a[k].v==32||a[k].v==14){p.L(j*w,i*w,w,0,z.D*0.5,C);p.F(j*w,i*w)}u q(a[k].v==26||a[k].v==13){p.L(j*w+w,i*w,w,z.D*0.5,z.D*1,C);p.F(j*w+w,i*w)}p.X();p.V()}u{p.1Z(j*w,i*w,w,w)}}}}}};q(a[0].K=="2w"){p.I="#1z";p.1o();s i=a[0].x,j=a[0].y;2h(a[0].v){19 1:p.L(j*w+w/2,i*w+w,w/2,z.D*1,z.D*2,C);p.X();p.V();p.I="27";p.1o();p.L(j*w+w/4,i*w+w,w/5,z.D*1,z.D*2,C);p.L(j*w+w*3/4,i*w+w,w/5,z.D*1,z.D*2,C);p.X();p.2f();p.V();p.I="#1z";U;19 2:p.L(j*w+w/2,i*w,w/2,z.D*1,z.D*2,T);p.X();p.V();p.I="27";p.1o();p.L(j*w+w/4,i*w,w/5,0,z.D*2,C);p.L(j*w+w*3/4,i*w,w/5,0,z.D*2,C);p.X();p.2f();p.V();p.I="#1z";U;19 3:p.L(j*w+w,i*w+w/2,w/2,z.D*0.5,z.D*1.5,C);p.X();p.V();p.I="27";p.1o();p.L(j*w+w,i*w+w/4,w/5,0,z.D*2,C);p.L(j*w+w,i*w+w*3/4,w/5,0,z.D*2,C);p.X();p.2f();p.V();p.I="#1z";U;19 4:p.L(j*w,i*w+w/2,w/2,z.D*0.5,z.D*1.5,T);p.X();p.V();p.I="27";p.1o();p.L(j*w,i*w+w/4,w/5,0,z.D*2,C);p.L(j*w,i*w+w*3/4,w/5,0,z.D*2,C);p.X();p.2f();p.V();p.I="#1z";U}}}})()',62,238,'||||||||||||||||||||||||||if||var||else|dir||||Math|foods|function|false|PI|grade|lineTo|wall|for|fillStyle|tt|part|arc|40||document|score|width|clearInterval||true|break|fill||closePath|in|45|||||||||foodCountTime|case|buffertime|bufferCountTime|localStorage|timeout|onclick|parseInt|Width|recordGrade|keyCode|foodtime|currPause|speed|getElementById|new|beginPath|innerHTML|interval|getTime|isStart|Date|pause|energy|46|setInterval|buffer|f00|moveTo|bufferType|className|setTimeout|foodKeep|return|this|foodControl|foodCount|random|tailEnd|255|150|load|body|save|41|clearTimeout|v2|tail|init|record|splice|shadowBlur|build|fillRect||||||v3|42|yellow||titleGrade|scoreEle|food|alert||recordEle|stroke|fillText|switch|cy|length|abs|addEventListener|50|rgba|12000|callee|arguments|9000|original|reset|screenshot|Height|head|YaHei|MicroSoft|font|continues|targetTouches|keydown|83|clientX|30px|sy|clientY|innerText|getElementsByClassName|touchend|preventDefault|control|removeEventListener|disable|action|touchstart|push|fff|76|changedTouches|helpTip|ey|hz|bezierCurveTo|JSON||||data|onkeydown||center||||middle|textBaseline|textAlign|Array|333|shadowColor|FF0000|href|toDataURL|download|getContext|mousedown|68|title|undefined|ontouchstart|pop|400|300|unshift|typeof|clearRect|87|rgb|getElementsByTagName|help|button|f50|parse|65|con|Ctrl|12px|140|ontouchmove|stringify|450|47|curr|green|getAttribute|IE9'.split('|'),0,{}))
</script>
</html>
